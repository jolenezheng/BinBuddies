(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(e,t,c){},62:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(0),i=c(8),s=c.n(i),j=(c(62),c(16)),r=c(10),o=c(48),l=Object(o.a)(),d=(c(47),c(98)),b=c(99);var h=function(e){return Object(n.jsxs)("div",{children:["LOGIN",Object(n.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(n.jsx)(d.a,{id:"user",label:"Username"}),Object(n.jsx)(d.a,{id:"pass",label:"Password"})]}),Object(n.jsx)(j.b,{to:"/home",children:Object(n.jsx)(b.a,{variant:"contained",children:"Login"})})]})},O=c(17),u=c(100),x=c.p+"static/media/box.1c939293.png";function p(e){var t=Object(a.useState)(),c=Object(O.a)(t,2),i=(c[0],c[1]);return Object(n.jsxs)("div",{children:[Object(n.jsx)(b.a,{variant:"contained",onClick:function(){i(x)},children:"Select a picture"}),Object(n.jsx)(j.b,{to:{pathname:"/testAPI",state:{image:x}},children:Object(n.jsx)(b.a,{variant:"contained",children:"Upload"})})]})}function v(e){var t=e.parentCallback,c=Object(a.useState)(),i=Object(O.a)(c,2),s=i[0],j=i[1];return Object(n.jsxs)("div",{children:["What is your item?",Object(n.jsxs)("form",{children:[Object(n.jsx)("p",{children:Object(n.jsx)(b.a,{variant:"contained",onClick:function(){j("Bottle")},children:"Jugs or Bottles"})}),Object(n.jsx)("p",{children:Object(n.jsx)(b.a,{variant:"contained",onClick:function(){j("Containers")},children:"Containers"})}),Object(n.jsx)("p",{children:Object(n.jsx)(b.a,{variant:"contained",onClick:function(){j("Textiles")},children:"Textiles"})}),Object(n.jsx)("p",{children:Object(n.jsx)(b.a,{variant:"contained",onClick:function(){j("Electronics")},children:"Electronics"})}),Object(n.jsxs)("label",{children:["Other:",Object(n.jsx)("input",{type:"text",name:"other"})]}),Object(n.jsx)(b.a,{variant:"contained",onClick:function(){t(s)},children:"Submit"})]})]})}function f(e){var t=e.detectedObject,c=e.history.location.state||t||"box",i=Object(a.useState)(!1),s=Object(O.a)(i,2),r=s[0],o=s[1],d=Object(a.useState)(),h=Object(O.a)(d,2),u=h[0],x=h[1],p="https://data.edmonton.ca/resource/gtej-pcij.json?$where=material_title like '%25".concat(c,"%25'");return["containers","jugs","bottles","electronics","propane tanks"].includes(c)?Object(n.jsx)(m,{detectedObject:c}):(r||function(e){fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){x(e),o(!0)})).catch((function(e){return console.log(e)}))}(p),u&&1===u.length&&l.push("/final"),r?Object(n.jsx)("div",{children:u&&u.length>1&&u.map((function(e,t){return Object(n.jsx)(j.b,{to:{pathname:"/final",state:{title:e.material_title,result:e.stream_title,info:e.special_instructions}},children:Object(n.jsx)(b.a,{children:e.material_title})})}))}):Object(n.jsx)("div",{children:"Loading..."}))}function m(e){var t=e.detectedObject,c=(e.parentCallback,Object(a.useState)()),i=Object(O.a)(c,2),s=(i[0],i[1],Object(a.useState)()),j=Object(O.a)(s,2),r=j[0];j[1];if(r)return Object(n.jsxs)("div",{children:["We recommend: ",r]});var o=Object(n.jsx)("div",{children:"Next results"});return"box"===t&&(o=Object(n.jsxs)("div",{children:["Is the container empty and dry?",Object(n.jsx)(b.a,{variant:"contained",children:"Yes"}),Object(n.jsx)(b.a,{variant:"contained",children:"No"})]})),"jug"!==t&&"bottle"!==t||(o=Object(n.jsxs)("div",{children:["Is there a straw or lid?",Object(n.jsx)(b.a,{variant:"contained",children:"Yes"}),Object(n.jsx)(b.a,{variant:"contained",children:"No"})]})),"electronic"!==t&&"propane tank"!==t||(o=Object(n.jsx)("div",{children:"Look for the closest disposal center near you! (google maps?)"})),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h1",{children:["Follow Up Questions: ",t]}),o]})}function g(e){var t=e.history.location.state,c=t.title,a=t.result,i=t.info;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:c}),"We suggest:",Object(n.jsx)("p",{children:a}),Object(n.jsx)("p",{children:i}),Object(n.jsx)(j.b,{to:"/home",children:"Start Over"})]})}var k=function(e){var t=Object(a.useState)(!1),c=Object(O.a)(t,2),i=c[0],s=c[1],r=Object(a.useState)(!1),o=Object(O.a)(r,2),l=o[0],d=o[1],h=Object(a.useState)(null),x=Object(O.a)(h,2),m=x[0],g=x[1],k=function(){d(!1),s(!1)},C=function(e){g(e),k()};return m?Object(n.jsx)(f,{detectedObject:m}):Object(n.jsxs)("div",{children:[Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)(b.a,{variant:"contained",children:"Logout"})}),"Home",Object(n.jsx)(b.a,{variant:"contained",onClick:function(){s(!0)},children:"Upload pic"}),Object(n.jsx)(b.a,{variant:"contained",onClick:function(){d(!0)},children:"Manual"}),Object(n.jsx)(u.a,{open:i,onClose:k,children:Object(n.jsx)("div",{className:"testModal",children:Object(n.jsx)(p,{parentCallback:C})})}),Object(n.jsx)(u.a,{open:l,onClose:k,children:Object(n.jsx)("div",{className:"testModal",children:Object(n.jsx)(v,{parentCallback:C})})})]})};var C=function(e){var t=e.history.location.state.image,c=Object(a.useState)(t),i=Object(O.a)(c,2),s=(i[0],i[1],Object(a.useState)()),r=Object(O.a)(s,2),o=r[0],l=r[1],d=Object(a.useState)(!1),h=Object(O.a)(d,2),u=h[0],x=h[1];return u||fetch(URL,{method:"GET"}).then((function(e){return e.json()})).then((function(e){l(e),x(!0)})).catch((function(e){return console.log(e)})),o?Object(n.jsxs)("div",{children:["Your photo has been recognized. Your item: ",o,Object(n.jsx)(j.b,{to:{pathname:"/fetching"},children:Object(n.jsx)(b.a,{children:"Yes, Proceed"})}),Object(n.jsx)(b.a,{children:"No, let's try again"})]}):Object(n.jsx)("div",{children:"Loading..."})};var S=function(){return Object(n.jsx)(j.a,{history:l,children:Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(r.c,{children:[Object(n.jsx)(r.a,{exact:!0,path:"/",component:h}),Object(n.jsx)(r.a,{path:"/home",component:k}),Object(n.jsx)(r.a,{path:"/final",component:g}),Object(n.jsx)(r.a,{path:"/testAPI",component:C}),Object(n.jsx)(r.a,{path:"/fetching",component:f})]})})})};s.a.render(Object(n.jsx)(j.a,{children:Object(n.jsx)(S,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.2d45542f.chunk.js.map